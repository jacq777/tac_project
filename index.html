<!DOCTYPE html>
<html>
<head>
    <title>Minibus Booking</title>
    <script type="text/javascript" src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <script type="text/javascript">
        (function() {
            emailjs.init("0szzn0D--PYhazodd");  // Replace with your Public Key
        })();
    </script>
</head>
<body>
    <h1>Minibus Booking System</h1>
    <form id="bookingForm">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required><br><br>
        <label for="date">Date:</label>
        <input type="date" id="date" name="date" required><br><br>
        <label for="category">Category:</label>
        <select id="category" name="category" required>
            <option value="Training trip">Training trip</option>
            <option value="Vets">Vets</option>
            <option value="Road Relays">Road Relays</option>
            <option value="YDL">YDL</option>
            <option value="NL">NL</option>
            <option value="KYAL">KYAL</option>
            <option value="XC">XC</option>
            <option value="Other">Other</option>
        </select><br><br>
        <label for="passenger_list">Passenger List:</label>
        <textarea id="passenger_list" name="passenger_list" rows="4" cols="50"></textarea><br><br>
        <label for="mileage_start">Mileage at Start:</label>
        <input type="number" id="mileage_start" name="mileage_start" required><br><br>
        <label for="mileage_finish">Mileage at Finish:</label>
        <input type="number" id="mileage_finish" name="mileage_finish"><br><br>
        <label for="fuel_added">Fuel Added in L:</label>
        <input type="number" id="fuel_added" name="fuel_added"><br><br>
        <label for="incidents">Incidents:</label>
        <textarea id="incidents" name="incidents" rows="4" cols="50"></textarea><br><br>
        <label for="damage_issues">Damage Issues:</label>
        <textarea id="damage_issues" name="damage_issues" rows="4" cols="50"></textarea><br><br>
        <input type="submit" value="Book" onclick="sendEmail(event)">
    </form>

    <script type="text/javascript">
        function sendEmail(event) {
            event.preventDefault();  // Prevent form submission
            emailjs.sendForm('service_jbulmm8', 'template_awcvemj', '#bookingForm')
                .then(function(response) {
                    alert('Booking email sent successfully!');
                }, function(error) {
                    alert('Failed to send booking email: ' + JSON.stringify(error));
                });
        }
    </script>
</body>
</html>
